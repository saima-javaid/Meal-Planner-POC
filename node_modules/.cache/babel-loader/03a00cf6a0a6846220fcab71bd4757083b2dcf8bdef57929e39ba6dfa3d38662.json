{"ast":null,"code":"var _jsxFileName = \"/Users/saima.javaid/Documents/Saima/KiroProject/src/components/SmartPlanner.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Lightbulb, Calendar, Check, Clock, Users } from 'lucide-react';\nimport { useNavigate } from 'react-router-dom';\nimport { ENHANCED_RECIPES, filterRecipesByPreferences, scoreRecipeByPreferences } from '../data/recipes';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction SmartPlanner({\n  groceries,\n  setMealPlan,\n  preferences,\n  mealPlan\n}) {\n  _s();\n  const [suggestions, setSuggestions] = useState([]);\n  const [selectedMeals, setSelectedMeals] = useState([]);\n  const navigate = useNavigate();\n  useEffect(() => {\n    generateSuggestions();\n  }, [groceries]);\n  const generateSuggestions = () => {\n    const availableIngredients = groceries.map(item => item.name.toLowerCase().trim());\n\n    // Filter recipes by preferences first\n    const filteredRecipes = filterRecipesByPreferences(ENHANCED_RECIPES, preferences);\n    const possibleRecipes = filteredRecipes.filter(recipe => {\n      const matchingIngredients = recipe.ingredients.filter(ingredient => availableIngredients.some(available => available.includes(ingredient.toLowerCase()) || ingredient.toLowerCase().includes(available)));\n      return matchingIngredients.length >= 2; // At least 2 matching ingredients\n    });\n\n    // Score recipes by ingredient match percentage and preferences\n    const scoredRecipes = possibleRecipes.map(recipe => {\n      const matchScore = recipe.ingredients.filter(ingredient => availableIngredients.some(available => available.includes(ingredient.toLowerCase()) || ingredient.toLowerCase().includes(available))).length / recipe.ingredients.length;\n      const preferenceScore = scoreRecipeByPreferences(recipe, preferences);\n      return {\n        ...recipe,\n        matchScore,\n        preferenceScore,\n        totalScore: matchScore + preferenceScore,\n        missingIngredients: recipe.ingredients.filter(ingredient => !availableIngredients.some(available => available.includes(ingredient.toLowerCase()) || ingredient.toLowerCase().includes(available)))\n      };\n    });\n    setSuggestions(scoredRecipes.sort((a, b) => b.totalScore - a.totalScore));\n  };\n  const toggleMealSelection = recipe => {\n    setSelectedMeals(prev => {\n      const isSelected = prev.find(meal => meal.name === recipe.name);\n      if (isSelected) {\n        return prev.filter(meal => meal.name !== recipe.name);\n      } else {\n        return [...prev, recipe];\n      }\n    });\n  };\n  const [integrationMode, setIntegrationMode] = useState('add'); // 'add' or 'replace'\n\n  const [showPreview, setShowPreview] = useState(false);\n  const [previewPlan, setPreviewPlan] = useState({});\n  const generateSmartDistribution = () => {\n    const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\n    const newMealPlan = integrationMode === 'replace' ? {} : {\n      ...mealPlan\n    };\n    const changes = [];\n    if (integrationMode === 'replace') {\n      // Replace mode: distribute evenly\n      selectedMeals.forEach((meal, index) => {\n        const day = days[index % days.length];\n        const key = `${day}-${meal.type}`;\n        if (!newMealPlan[key]) {\n          newMealPlan[key] = [];\n        }\n        newMealPlan[key] = [meal];\n        changes.push({\n          day,\n          mealType: meal.type,\n          meal: meal.name,\n          action: 'replaced'\n        });\n      });\n    } else {\n      // Smart fill mode: fill empty slots first, then add to existing\n      const emptySlots = [];\n      const existingSlots = [];\n\n      // Find empty and existing slots\n      days.forEach(day => {\n        ['Breakfast', 'Lunch', 'Dinner', 'Snacks'].forEach(mealType => {\n          const key = `${day}-${mealType}`;\n          const currentMeals = newMealPlan[key] || [];\n          if (currentMeals.length === 0) {\n            emptySlots.push({\n              day,\n              mealType,\n              key\n            });\n          } else {\n            existingSlots.push({\n              day,\n              mealType,\n              key,\n              count: currentMeals.length\n            });\n          }\n        });\n      });\n\n      // Distribute meals\n      selectedMeals.forEach((meal, index) => {\n        // First, try to fill empty slots of the same meal type\n        const emptySlotOfType = emptySlots.find(slot => {\n          var _newMealPlan$slot$key;\n          return slot.mealType === meal.type && !((_newMealPlan$slot$key = newMealPlan[slot.key]) !== null && _newMealPlan$slot$key !== void 0 && _newMealPlan$slot$key.length);\n        });\n        if (emptySlotOfType) {\n          if (!newMealPlan[emptySlotOfType.key]) {\n            newMealPlan[emptySlotOfType.key] = [];\n          }\n          newMealPlan[emptySlotOfType.key].push(meal);\n          changes.push({\n            day: emptySlotOfType.day,\n            mealType: emptySlotOfType.mealType,\n            meal: meal.name,\n            action: 'filled empty slot'\n          });\n          return;\n        }\n\n        // If no empty slots of same type, use any empty slot\n        const anyEmptySlot = emptySlots.find(slot => {\n          var _newMealPlan$slot$key2;\n          return !((_newMealPlan$slot$key2 = newMealPlan[slot.key]) !== null && _newMealPlan$slot$key2 !== void 0 && _newMealPlan$slot$key2.length);\n        });\n        if (anyEmptySlot) {\n          if (!newMealPlan[anyEmptySlot.key]) {\n            newMealPlan[anyEmptySlot.key] = [];\n          }\n          newMealPlan[anyEmptySlot.key].push(meal);\n          changes.push({\n            day: anyEmptySlot.day,\n            mealType: anyEmptySlot.mealType,\n            meal: meal.name,\n            action: 'filled empty slot (different type)'\n          });\n          return;\n        }\n\n        // If no empty slots, add to existing (round-robin)\n        const day = days[index % days.length];\n        const key = `${day}-${meal.type}`;\n        if (!newMealPlan[key]) {\n          newMealPlan[key] = [];\n        }\n\n        // Check for duplicates\n        const exists = newMealPlan[key].some(existingMeal => existingMeal.name === meal.name);\n        if (!exists) {\n          newMealPlan[key].push(meal);\n          changes.push({\n            day,\n            mealType: meal.type,\n            meal: meal.name,\n            action: 'added to existing'\n          });\n        }\n      });\n    }\n    return {\n      newMealPlan,\n      changes\n    };\n  };\n  const previewChanges = () => {\n    const {\n      newMealPlan,\n      changes\n    } = generateSmartDistribution();\n    setPreviewPlan({\n      plan: newMealPlan,\n      changes\n    });\n    setShowPreview(true);\n  };\n  const applyChanges = () => {\n    setMealPlan(previewPlan.plan);\n    setShowPreview(false);\n\n    // Show success message and navigate\n    setTimeout(() => {\n      navigate('/planner');\n    }, 500);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"smart-planner-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [/*#__PURE__*/_jsxDEV(Lightbulb, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this), \"Smart Meal Suggestions\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Based on your current grocery inventory\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this), groceries.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(Lightbulb, {\n          size: 48\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"No groceries in inventory\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Add some groceries to your inventory to get personalized meal suggestions.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }, this) : suggestions.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"No matching recipes found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Try adding more common ingredients to get better suggestions.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"suggestions-grid\",\n          children: suggestions.map((recipe, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `suggestion-card ${selectedMeals.find(m => m.name === recipe.name) ? 'selected' : ''}`,\n            onClick: () => toggleMealSelection(recipe),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"suggestion-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: recipe.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"suggestion-meta\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"meal-type\",\n                  children: recipe.type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"difficulty\",\n                  children: recipe.difficulty\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 21\n              }, this), selectedMeals.find(m => m.name === recipe.name) && /*#__PURE__*/_jsxDEV(Check, {\n                size: 20,\n                className: \"selected-icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"recipe-quick-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"time\",\n                children: [/*#__PURE__*/_jsxDEV(Clock, {\n                  size: 14\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 23\n                }, this), recipe.prepTime]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"servings\",\n                children: [/*#__PURE__*/_jsxDEV(Users, {\n                  size: 14\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 23\n                }, this), recipe.servings]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"calories\",\n                children: [recipe.nutrition.calories, \" cal\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"match-score\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"score-bar\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"score-fill\",\n                  style: {\n                    width: `${recipe.matchScore * 100}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [Math.round(recipe.matchScore * 100), \"% ingredient match\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"recipe-rating-preview\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rating-stars-small\",\n                children: Array.from({\n                  length: 5\n                }, (_, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `star-small ${i < Math.floor(recipe.rating) ? 'filled' : ''}`,\n                  children: \"\\u2605\"\n                }, i, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"rating-score-small\",\n                children: recipe.rating.toFixed(1)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"rating-count-small\",\n                children: [\"(\", recipe.totalRatings, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"nutrition-preview\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [recipe.nutrition.protein, \"g protein\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [recipe.nutrition.carbs, \"g carbs\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [recipe.nutrition.fiber, \"g fiber\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ingredients-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"You have:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 24\n                }, this), \" \", recipe.ingredients.length - recipe.missingIngredients.length, \" ingredients\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 21\n              }, this), recipe.missingIngredients.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Need to buy:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 26\n                }, this), \" \", recipe.missingIngredients.join(', ')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"recipe-tags\",\n              children: recipe.tags.slice(0, 3).map(tag => /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"recipe-tag\",\n                children: tag\n              }, tag, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"instructions\",\n              children: recipe.instructions\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 13\n        }, this), selectedMeals.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"selected-meals-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Selected Meals (\", selectedMeals.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"selected-meals\",\n            children: selectedMeals.map((meal, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"selected-meal-tag\",\n              children: [meal.name, \" (\", meal.type, \")\"]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 17\n          }, this), Object.keys(mealPlan).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"integration-options\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"How should we add these meals?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"integration-buttons\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setIntegrationMode('add'),\n                className: `btn ${integrationMode === 'add' ? 'btn-primary' : 'btn-secondary'}`,\n                children: \"Add to Existing Plan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setIntegrationMode('replace'),\n                className: `btn ${integrationMode === 'replace' ? 'btn-primary' : 'btn-secondary'}`,\n                children: \"Replace Current Plan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"integration-help\",\n              children: integrationMode === 'add' ? 'Selected meals will be added to your current meal plan' : 'Selected meals will replace your current meal plan'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: previewChanges,\n            className: \"btn btn-primary\",\n            children: [/*#__PURE__*/_jsxDEV(Calendar, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 19\n            }, this), \"Preview Changes\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 192,\n    columnNumber: 5\n  }, this);\n}\n_s(SmartPlanner, \"h3AsMExPHNT1b0/zoqhOCmrnyfk=\", false, function () {\n  return [useNavigate];\n});\n_c = SmartPlanner;\nexport default SmartPlanner;\nvar _c;\n$RefreshReg$(_c, \"SmartPlanner\");","map":{"version":3,"names":["React","useState","useEffect","Lightbulb","Calendar","Check","Clock","Users","useNavigate","ENHANCED_RECIPES","filterRecipesByPreferences","scoreRecipeByPreferences","jsxDEV","_jsxDEV","Fragment","_Fragment","SmartPlanner","groceries","setMealPlan","preferences","mealPlan","_s","suggestions","setSuggestions","selectedMeals","setSelectedMeals","navigate","generateSuggestions","availableIngredients","map","item","name","toLowerCase","trim","filteredRecipes","possibleRecipes","filter","recipe","matchingIngredients","ingredients","ingredient","some","available","includes","length","scoredRecipes","matchScore","preferenceScore","totalScore","missingIngredients","sort","a","b","toggleMealSelection","prev","isSelected","find","meal","integrationMode","setIntegrationMode","showPreview","setShowPreview","previewPlan","setPreviewPlan","generateSmartDistribution","days","newMealPlan","changes","forEach","index","day","key","type","push","mealType","action","emptySlots","existingSlots","currentMeals","count","emptySlotOfType","slot","_newMealPlan$slot$key","anyEmptySlot","_newMealPlan$slot$key2","exists","existingMeal","previewChanges","plan","applyChanges","setTimeout","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","m","onClick","difficulty","prepTime","servings","nutrition","calories","style","width","Math","round","Array","from","_","i","floor","rating","toFixed","totalRatings","protein","carbs","fiber","join","tags","slice","tag","instructions","Object","keys","_c","$RefreshReg$"],"sources":["/Users/saima.javaid/Documents/Saima/KiroProject/src/components/SmartPlanner.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Lightbulb, Calendar, Check, Clock, Users } from 'lucide-react';\nimport { useNavigate } from 'react-router-dom';\nimport { ENHANCED_RECIPES, filterRecipesByPreferences, scoreRecipeByPreferences } from '../data/recipes';\n\nfunction SmartPlanner({ groceries, setMealPlan, preferences, mealPlan }) {\n  const [suggestions, setSuggestions] = useState([]);\n  const [selectedMeals, setSelectedMeals] = useState([]);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    generateSuggestions();\n  }, [groceries]);\n\n  const generateSuggestions = () => {\n    const availableIngredients = groceries.map(item => \n      item.name.toLowerCase().trim()\n    );\n\n    // Filter recipes by preferences first\n    const filteredRecipes = filterRecipesByPreferences(ENHANCED_RECIPES, preferences);\n\n    const possibleRecipes = filteredRecipes.filter(recipe => {\n      const matchingIngredients = recipe.ingredients.filter(ingredient =>\n        availableIngredients.some(available => \n          available.includes(ingredient.toLowerCase()) || \n          ingredient.toLowerCase().includes(available)\n        )\n      );\n      return matchingIngredients.length >= 2; // At least 2 matching ingredients\n    });\n\n    // Score recipes by ingredient match percentage and preferences\n    const scoredRecipes = possibleRecipes.map(recipe => {\n      const matchScore = recipe.ingredients.filter(ingredient =>\n        availableIngredients.some(available => \n          available.includes(ingredient.toLowerCase()) || \n          ingredient.toLowerCase().includes(available)\n        )\n      ).length / recipe.ingredients.length;\n\n      const preferenceScore = scoreRecipeByPreferences(recipe, preferences);\n      \n      return {\n        ...recipe,\n        matchScore,\n        preferenceScore,\n        totalScore: matchScore + preferenceScore,\n        missingIngredients: recipe.ingredients.filter(ingredient =>\n          !availableIngredients.some(available => \n            available.includes(ingredient.toLowerCase()) || \n            ingredient.toLowerCase().includes(available)\n          )\n        )\n      };\n    });\n\n    setSuggestions(scoredRecipes.sort((a, b) => b.totalScore - a.totalScore));\n  };\n\n  const toggleMealSelection = (recipe) => {\n    setSelectedMeals(prev => {\n      const isSelected = prev.find(meal => meal.name === recipe.name);\n      if (isSelected) {\n        return prev.filter(meal => meal.name !== recipe.name);\n      } else {\n        return [...prev, recipe];\n      }\n    });\n  };\n\n  const [integrationMode, setIntegrationMode] = useState('add'); // 'add' or 'replace'\n\n  const [showPreview, setShowPreview] = useState(false);\n  const [previewPlan, setPreviewPlan] = useState({});\n\n  const generateSmartDistribution = () => {\n    const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\n    const newMealPlan = integrationMode === 'replace' ? {} : { ...mealPlan };\n    const changes = [];\n\n    if (integrationMode === 'replace') {\n      // Replace mode: distribute evenly\n      selectedMeals.forEach((meal, index) => {\n        const day = days[index % days.length];\n        const key = `${day}-${meal.type}`;\n        \n        if (!newMealPlan[key]) {\n          newMealPlan[key] = [];\n        }\n        newMealPlan[key] = [meal];\n        changes.push({ day, mealType: meal.type, meal: meal.name, action: 'replaced' });\n      });\n    } else {\n      // Smart fill mode: fill empty slots first, then add to existing\n      const emptySlots = [];\n      const existingSlots = [];\n\n      // Find empty and existing slots\n      days.forEach(day => {\n        ['Breakfast', 'Lunch', 'Dinner', 'Snacks'].forEach(mealType => {\n          const key = `${day}-${mealType}`;\n          const currentMeals = newMealPlan[key] || [];\n          \n          if (currentMeals.length === 0) {\n            emptySlots.push({ day, mealType, key });\n          } else {\n            existingSlots.push({ day, mealType, key, count: currentMeals.length });\n          }\n        });\n      });\n\n      // Distribute meals\n      selectedMeals.forEach((meal, index) => {\n        // First, try to fill empty slots of the same meal type\n        const emptySlotOfType = emptySlots.find(slot => \n          slot.mealType === meal.type && !newMealPlan[slot.key]?.length\n        );\n        \n        if (emptySlotOfType) {\n          if (!newMealPlan[emptySlotOfType.key]) {\n            newMealPlan[emptySlotOfType.key] = [];\n          }\n          newMealPlan[emptySlotOfType.key].push(meal);\n          changes.push({ \n            day: emptySlotOfType.day, \n            mealType: emptySlotOfType.mealType, \n            meal: meal.name, \n            action: 'filled empty slot' \n          });\n          return;\n        }\n\n        // If no empty slots of same type, use any empty slot\n        const anyEmptySlot = emptySlots.find(slot => !newMealPlan[slot.key]?.length);\n        if (anyEmptySlot) {\n          if (!newMealPlan[anyEmptySlot.key]) {\n            newMealPlan[anyEmptySlot.key] = [];\n          }\n          newMealPlan[anyEmptySlot.key].push(meal);\n          changes.push({ \n            day: anyEmptySlot.day, \n            mealType: anyEmptySlot.mealType, \n            meal: meal.name, \n            action: 'filled empty slot (different type)' \n          });\n          return;\n        }\n\n        // If no empty slots, add to existing (round-robin)\n        const day = days[index % days.length];\n        const key = `${day}-${meal.type}`;\n        \n        if (!newMealPlan[key]) {\n          newMealPlan[key] = [];\n        }\n        \n        // Check for duplicates\n        const exists = newMealPlan[key].some(existingMeal => existingMeal.name === meal.name);\n        if (!exists) {\n          newMealPlan[key].push(meal);\n          changes.push({ \n            day, \n            mealType: meal.type, \n            meal: meal.name, \n            action: 'added to existing' \n          });\n        }\n      });\n    }\n\n    return { newMealPlan, changes };\n  };\n\n  const previewChanges = () => {\n    const { newMealPlan, changes } = generateSmartDistribution();\n    setPreviewPlan({ plan: newMealPlan, changes });\n    setShowPreview(true);\n  };\n\n  const applyChanges = () => {\n    setMealPlan(previewPlan.plan);\n    setShowPreview(false);\n    \n    // Show success message and navigate\n    setTimeout(() => {\n      navigate('/planner');\n    }, 500);\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"card\">\n        <div className=\"smart-planner-header\">\n          <h2>\n            <Lightbulb size={24} />\n            Smart Meal Suggestions\n          </h2>\n          <p>Based on your current grocery inventory</p>\n        </div>\n\n        {groceries.length === 0 ? (\n          <div className=\"empty-state\">\n            <Lightbulb size={48} />\n            <h3>No groceries in inventory</h3>\n            <p>Add some groceries to your inventory to get personalized meal suggestions.</p>\n          </div>\n        ) : suggestions.length === 0 ? (\n          <div className=\"empty-state\">\n            <h3>No matching recipes found</h3>\n            <p>Try adding more common ingredients to get better suggestions.</p>\n          </div>\n        ) : (\n          <>\n            <div className=\"suggestions-grid\">\n              {suggestions.map((recipe, index) => (\n                <div \n                  key={index} \n                  className={`suggestion-card ${selectedMeals.find(m => m.name === recipe.name) ? 'selected' : ''}`}\n                  onClick={() => toggleMealSelection(recipe)}\n                >\n                  <div className=\"suggestion-header\">\n                    <h3>{recipe.name}</h3>\n                    <div className=\"suggestion-meta\">\n                      <span className=\"meal-type\">{recipe.type}</span>\n                      <span className=\"difficulty\">{recipe.difficulty}</span>\n                    </div>\n                    {selectedMeals.find(m => m.name === recipe.name) && (\n                      <Check size={20} className=\"selected-icon\" />\n                    )}\n                  </div>\n                  \n                  <div className=\"recipe-quick-info\">\n                    <span className=\"time\">\n                      <Clock size={14} />\n                      {recipe.prepTime}\n                    </span>\n                    <span className=\"servings\">\n                      <Users size={14} />\n                      {recipe.servings}\n                    </span>\n                    <span className=\"calories\">{recipe.nutrition.calories} cal</span>\n                  </div>\n                  \n                  <div className=\"match-score\">\n                    <div className=\"score-bar\">\n                      <div \n                        className=\"score-fill\" \n                        style={{ width: `${recipe.matchScore * 100}%` }}\n                      ></div>\n                    </div>\n                    <span>{Math.round(recipe.matchScore * 100)}% ingredient match</span>\n                  </div>\n\n                  <div className=\"recipe-rating-preview\">\n                    <div className=\"rating-stars-small\">\n                      {Array.from({ length: 5 }, (_, i) => (\n                        <span key={i} className={`star-small ${i < Math.floor(recipe.rating) ? 'filled' : ''}`}>\n                          â˜…\n                        </span>\n                      ))}\n                    </div>\n                    <span className=\"rating-score-small\">{recipe.rating.toFixed(1)}</span>\n                    <span className=\"rating-count-small\">({recipe.totalRatings})</span>\n                  </div>\n\n                  <div className=\"nutrition-preview\">\n                    <span>{recipe.nutrition.protein}g protein</span>\n                    <span>{recipe.nutrition.carbs}g carbs</span>\n                    <span>{recipe.nutrition.fiber}g fiber</span>\n                  </div>\n\n                  <div className=\"ingredients-info\">\n                    <p><strong>You have:</strong> {recipe.ingredients.length - recipe.missingIngredients.length} ingredients</p>\n                    {recipe.missingIngredients.length > 0 && (\n                      <p><strong>Need to buy:</strong> {recipe.missingIngredients.join(', ')}</p>\n                    )}\n                  </div>\n\n                  <div className=\"recipe-tags\">\n                    {recipe.tags.slice(0, 3).map(tag => (\n                      <span key={tag} className=\"recipe-tag\">{tag}</span>\n                    ))}\n                  </div>\n\n                  <p className=\"instructions\">{recipe.instructions}</p>\n                </div>\n              ))}\n            </div>\n\n            {selectedMeals.length > 0 && (\n              <div className=\"selected-meals-section\">\n                <h3>Selected Meals ({selectedMeals.length})</h3>\n                <div className=\"selected-meals\">\n                  {selectedMeals.map((meal, index) => (\n                    <span key={index} className=\"selected-meal-tag\">\n                      {meal.name} ({meal.type})\n                    </span>\n                  ))}\n                </div>\n                \n                {Object.keys(mealPlan).length > 0 && (\n                  <div className=\"integration-options\">\n                    <h4>How should we add these meals?</h4>\n                    <div className=\"integration-buttons\">\n                      <button \n                        onClick={() => setIntegrationMode('add')}\n                        className={`btn ${integrationMode === 'add' ? 'btn-primary' : 'btn-secondary'}`}\n                      >\n                        Add to Existing Plan\n                      </button>\n                      <button \n                        onClick={() => setIntegrationMode('replace')}\n                        className={`btn ${integrationMode === 'replace' ? 'btn-primary' : 'btn-secondary'}`}\n                      >\n                        Replace Current Plan\n                      </button>\n                    </div>\n                    <p className=\"integration-help\">\n                      {integrationMode === 'add' \n                        ? 'Selected meals will be added to your current meal plan'\n                        : 'Selected meals will replace your current meal plan'\n                      }\n                    </p>\n                  </div>\n                )}\n                \n                <button onClick={previewChanges} className=\"btn btn-primary\">\n                  <Calendar size={16} />\n                  Preview Changes\n                </button>\n              </div>\n            )}\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default SmartPlanner;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
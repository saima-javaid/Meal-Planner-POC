{"ast":null,"code":"var _jsxFileName = \"/Users/saima.javaid/Documents/Saima/KiroProject/src/components/SmartPlanner.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Lightbulb, Calendar, Check, Clock, Users } from 'lucide-react';\nimport { useNavigate } from 'react-router-dom';\nimport { ENHANCED_RECIPES, filterRecipesByPreferences, scoreRecipeByPreferences } from '../data/recipes';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction SmartPlanner({\n  groceries,\n  setMealPlan,\n  preferences,\n  mealPlan\n}) {\n  _s();\n  var _previewPlan$changes, _previewPlan$changes3;\n  const [suggestions, setSuggestions] = useState([]);\n  const [selectedMeals, setSelectedMeals] = useState([]);\n  const navigate = useNavigate();\n  useEffect(() => {\n    generateSuggestions();\n  }, [groceries]);\n  const generateSuggestions = () => {\n    const availableIngredients = groceries.map(item => item.name.toLowerCase().trim());\n\n    // Filter recipes by preferences first\n    const filteredRecipes = filterRecipesByPreferences(ENHANCED_RECIPES, preferences);\n    const possibleRecipes = filteredRecipes.filter(recipe => {\n      const matchingIngredients = recipe.ingredients.filter(ingredient => availableIngredients.some(available => available.includes(ingredient.toLowerCase()) || ingredient.toLowerCase().includes(available)));\n      return matchingIngredients.length >= 2; // At least 2 matching ingredients\n    });\n\n    // Score recipes by ingredient match percentage and preferences\n    const scoredRecipes = possibleRecipes.map(recipe => {\n      const matchScore = recipe.ingredients.filter(ingredient => availableIngredients.some(available => available.includes(ingredient.toLowerCase()) || ingredient.toLowerCase().includes(available))).length / recipe.ingredients.length;\n      const preferenceScore = scoreRecipeByPreferences(recipe, preferences);\n      return {\n        ...recipe,\n        matchScore,\n        preferenceScore,\n        totalScore: matchScore + preferenceScore,\n        missingIngredients: recipe.ingredients.filter(ingredient => !availableIngredients.some(available => available.includes(ingredient.toLowerCase()) || ingredient.toLowerCase().includes(available)))\n      };\n    });\n    setSuggestions(scoredRecipes.sort((a, b) => b.totalScore - a.totalScore));\n  };\n  const toggleMealSelection = recipe => {\n    setSelectedMeals(prev => {\n      const isSelected = prev.find(meal => meal.name === recipe.name);\n      if (isSelected) {\n        return prev.filter(meal => meal.name !== recipe.name);\n      } else {\n        return [...prev, recipe];\n      }\n    });\n  };\n  const [integrationMode, setIntegrationMode] = useState('add'); // 'add' or 'replace'\n\n  const [showPreview, setShowPreview] = useState(false);\n  const [previewPlan, setPreviewPlan] = useState({});\n  const generateSmartDistribution = () => {\n    const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\n    const newMealPlan = integrationMode === 'replace' ? {} : {\n      ...mealPlan\n    };\n    const changes = [];\n    if (integrationMode === 'replace') {\n      // Replace mode: distribute evenly\n      selectedMeals.forEach((meal, index) => {\n        const day = days[index % days.length];\n        const key = `${day}-${meal.type}`;\n        if (!newMealPlan[key]) {\n          newMealPlan[key] = [];\n        }\n        newMealPlan[key] = [meal];\n        changes.push({\n          day,\n          mealType: meal.type,\n          meal: meal.name,\n          action: 'replaced'\n        });\n      });\n    } else {\n      // Smart fill mode: fill empty slots first, then add to existing\n      const emptySlots = [];\n      const existingSlots = [];\n\n      // Find empty and existing slots\n      days.forEach(day => {\n        ['Breakfast', 'Lunch', 'Dinner', 'Snacks'].forEach(mealType => {\n          const key = `${day}-${mealType}`;\n          const currentMeals = newMealPlan[key] || [];\n          if (currentMeals.length === 0) {\n            emptySlots.push({\n              day,\n              mealType,\n              key\n            });\n          } else {\n            existingSlots.push({\n              day,\n              mealType,\n              key,\n              count: currentMeals.length\n            });\n          }\n        });\n      });\n\n      // Distribute meals\n      selectedMeals.forEach((meal, index) => {\n        // First, try to fill empty slots of the same meal type\n        const emptySlotOfType = emptySlots.find(slot => {\n          var _newMealPlan$slot$key;\n          return slot.mealType === meal.type && !((_newMealPlan$slot$key = newMealPlan[slot.key]) !== null && _newMealPlan$slot$key !== void 0 && _newMealPlan$slot$key.length);\n        });\n        if (emptySlotOfType) {\n          if (!newMealPlan[emptySlotOfType.key]) {\n            newMealPlan[emptySlotOfType.key] = [];\n          }\n          newMealPlan[emptySlotOfType.key].push(meal);\n          changes.push({\n            day: emptySlotOfType.day,\n            mealType: emptySlotOfType.mealType,\n            meal: meal.name,\n            action: 'filled empty slot'\n          });\n          return;\n        }\n\n        // If no empty slots of same type, use any empty slot\n        const anyEmptySlot = emptySlots.find(slot => {\n          var _newMealPlan$slot$key2;\n          return !((_newMealPlan$slot$key2 = newMealPlan[slot.key]) !== null && _newMealPlan$slot$key2 !== void 0 && _newMealPlan$slot$key2.length);\n        });\n        if (anyEmptySlot) {\n          if (!newMealPlan[anyEmptySlot.key]) {\n            newMealPlan[anyEmptySlot.key] = [];\n          }\n          newMealPlan[anyEmptySlot.key].push(meal);\n          changes.push({\n            day: anyEmptySlot.day,\n            mealType: anyEmptySlot.mealType,\n            meal: meal.name,\n            action: 'filled empty slot (different type)'\n          });\n          return;\n        }\n\n        // If no empty slots, add to existing (round-robin)\n        const day = days[index % days.length];\n        const key = `${day}-${meal.type}`;\n        if (!newMealPlan[key]) {\n          newMealPlan[key] = [];\n        }\n\n        // Check for duplicates\n        const exists = newMealPlan[key].some(existingMeal => existingMeal.name === meal.name);\n        if (!exists) {\n          newMealPlan[key].push(meal);\n          changes.push({\n            day,\n            mealType: meal.type,\n            meal: meal.name,\n            action: 'added to existing'\n          });\n        }\n      });\n    }\n    return {\n      newMealPlan,\n      changes\n    };\n  };\n  const previewChanges = () => {\n    const {\n      newMealPlan,\n      changes\n    } = generateSmartDistribution();\n    setPreviewPlan({\n      plan: newMealPlan,\n      changes\n    });\n    setShowPreview(true);\n  };\n  const applyChanges = () => {\n    setMealPlan(previewPlan.plan);\n    setShowPreview(false);\n\n    // Show success message and navigate\n    setTimeout(() => {\n      navigate('/planner');\n    }, 500);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"smart-planner-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [/*#__PURE__*/_jsxDEV(Lightbulb, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this), \"Smart Meal Suggestions\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Based on your current grocery inventory\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this), groceries.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(Lightbulb, {\n          size: 48\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"No groceries in inventory\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Add some groceries to your inventory to get personalized meal suggestions.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }, this) : suggestions.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"No matching recipes found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Try adding more common ingredients to get better suggestions.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"suggestions-grid\",\n          children: suggestions.map((recipe, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `suggestion-card ${selectedMeals.find(m => m.name === recipe.name) ? 'selected' : ''}`,\n            onClick: () => toggleMealSelection(recipe),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"suggestion-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: recipe.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"suggestion-meta\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"meal-type\",\n                  children: recipe.type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"difficulty\",\n                  children: recipe.difficulty\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 21\n              }, this), selectedMeals.find(m => m.name === recipe.name) && /*#__PURE__*/_jsxDEV(Check, {\n                size: 20,\n                className: \"selected-icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"recipe-quick-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"time\",\n                children: [/*#__PURE__*/_jsxDEV(Clock, {\n                  size: 14\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 23\n                }, this), recipe.prepTime]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"servings\",\n                children: [/*#__PURE__*/_jsxDEV(Users, {\n                  size: 14\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 23\n                }, this), recipe.servings]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"calories\",\n                children: [recipe.nutrition.calories, \" cal\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"match-score\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"score-bar\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"score-fill\",\n                  style: {\n                    width: `${recipe.matchScore * 100}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [Math.round(recipe.matchScore * 100), \"% ingredient match\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"recipe-rating-preview\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rating-stars-small\",\n                children: Array.from({\n                  length: 5\n                }, (_, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `star-small ${i < Math.floor(recipe.rating) ? 'filled' : ''}`,\n                  children: \"\\u2605\"\n                }, i, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"rating-score-small\",\n                children: recipe.rating.toFixed(1)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"rating-count-small\",\n                children: [\"(\", recipe.totalRatings, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"nutrition-preview\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [recipe.nutrition.protein, \"g protein\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [recipe.nutrition.carbs, \"g carbs\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [recipe.nutrition.fiber, \"g fiber\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ingredients-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"You have:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 24\n                }, this), \" \", recipe.ingredients.length - recipe.missingIngredients.length, \" ingredients\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 21\n              }, this), recipe.missingIngredients.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Need to buy:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 26\n                }, this), \" \", recipe.missingIngredients.join(', ')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"recipe-tags\",\n              children: recipe.tags.slice(0, 3).map(tag => /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"recipe-tag\",\n                children: tag\n              }, tag, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"instructions\",\n              children: recipe.instructions\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 13\n        }, this), selectedMeals.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"selected-meals-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Selected Meals (\", selectedMeals.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"selected-meals\",\n            children: selectedMeals.map((meal, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"selected-meal-tag\",\n              children: [meal.name, \" (\", meal.type, \")\"]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 17\n          }, this), Object.keys(mealPlan).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"integration-options\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"How should we add these meals?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"integration-buttons\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setIntegrationMode('add'),\n                className: `btn ${integrationMode === 'add' ? 'btn-primary' : 'btn-secondary'}`,\n                children: \"Add to Existing Plan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setIntegrationMode('replace'),\n                className: `btn ${integrationMode === 'replace' ? 'btn-primary' : 'btn-secondary'}`,\n                children: \"Replace Current Plan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"integration-help\",\n              children: integrationMode === 'add' ? 'Selected meals will be added to your current meal plan' : 'Selected meals will replace your current meal plan'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: previewChanges,\n            className: \"btn btn-primary\",\n            children: [/*#__PURE__*/_jsxDEV(Calendar, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 19\n            }, this), \"Preview Changes\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true), showPreview && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-overlay\",\n        onClick: () => setShowPreview(false),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal preview-modal\",\n          onClick: e => e.stopPropagation(),\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Preview Meal Plan Changes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Here's what will happen when you apply these changes:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"changes-summary\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"\\uD83D\\uDCCB Summary of Changes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"changes-list\",\n              children: (_previewPlan$changes = previewPlan.changes) === null || _previewPlan$changes === void 0 ? void 0 : _previewPlan$changes.map((change, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"change-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"change-meal\",\n                  children: change.meal\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"change-arrow\",\n                  children: \"\\u2192\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"change-location\",\n                  children: [change.day, \" \", change.mealType]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `change-action ${change.action.replace(/\\s+/g, '-')}`,\n                  children: change.action\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 23\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"preview-week\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"\\uD83D\\uDCC5 Your Updated Week\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"preview-days\",\n              children: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'].map(day => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"preview-day\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: day\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 23\n                }, this), ['Breakfast', 'Lunch', 'Dinner', 'Snacks'].map(mealType => {\n                  var _previewPlan$plan, _previewPlan$changes2;\n                  const key = `${day}-${mealType}`;\n                  const meals = ((_previewPlan$plan = previewPlan.plan) === null || _previewPlan$plan === void 0 ? void 0 : _previewPlan$plan[key]) || [];\n                  const isNew = (_previewPlan$changes2 = previewPlan.changes) === null || _previewPlan$changes2 === void 0 ? void 0 : _previewPlan$changes2.some(c => c.day === day && c.mealType === mealType);\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `preview-meal-slot ${isNew ? 'new-change' : ''}`,\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"meal-type-label\",\n                      children: [mealType, \":\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 372,\n                      columnNumber: 29\n                    }, this), meals.length === 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"empty-slot\",\n                      children: \"Empty\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 374,\n                      columnNumber: 31\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"meal-names\",\n                      children: meals.map(m => m.name).join(', ')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 376,\n                      columnNumber: 31\n                    }, this)]\n                  }, mealType, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 371,\n                    columnNumber: 27\n                  }, this);\n                })]\n              }, day, true, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: applyChanges,\n              className: \"btn btn-primary\",\n              children: [\"\\u2705 Apply Changes (\", (_previewPlan$changes3 = previewPlan.changes) === null || _previewPlan$changes3 === void 0 ? void 0 : _previewPlan$changes3.length, \" changes)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowPreview(false),\n              className: \"btn btn-secondary\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 192,\n    columnNumber: 5\n  }, this);\n}\n_s(SmartPlanner, \"h3AsMExPHNT1b0/zoqhOCmrnyfk=\", false, function () {\n  return [useNavigate];\n});\n_c = SmartPlanner;\nexport default SmartPlanner;\nvar _c;\n$RefreshReg$(_c, \"SmartPlanner\");","map":{"version":3,"names":["React","useState","useEffect","Lightbulb","Calendar","Check","Clock","Users","useNavigate","ENHANCED_RECIPES","filterRecipesByPreferences","scoreRecipeByPreferences","jsxDEV","_jsxDEV","Fragment","_Fragment","SmartPlanner","groceries","setMealPlan","preferences","mealPlan","_s","_previewPlan$changes","_previewPlan$changes3","suggestions","setSuggestions","selectedMeals","setSelectedMeals","navigate","generateSuggestions","availableIngredients","map","item","name","toLowerCase","trim","filteredRecipes","possibleRecipes","filter","recipe","matchingIngredients","ingredients","ingredient","some","available","includes","length","scoredRecipes","matchScore","preferenceScore","totalScore","missingIngredients","sort","a","b","toggleMealSelection","prev","isSelected","find","meal","integrationMode","setIntegrationMode","showPreview","setShowPreview","previewPlan","setPreviewPlan","generateSmartDistribution","days","newMealPlan","changes","forEach","index","day","key","type","push","mealType","action","emptySlots","existingSlots","currentMeals","count","emptySlotOfType","slot","_newMealPlan$slot$key","anyEmptySlot","_newMealPlan$slot$key2","exists","existingMeal","previewChanges","plan","applyChanges","setTimeout","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","m","onClick","difficulty","prepTime","servings","nutrition","calories","style","width","Math","round","Array","from","_","i","floor","rating","toFixed","totalRatings","protein","carbs","fiber","join","tags","slice","tag","instructions","Object","keys","e","stopPropagation","change","replace","_previewPlan$plan","_previewPlan$changes2","meals","isNew","c","_c","$RefreshReg$"],"sources":["/Users/saima.javaid/Documents/Saima/KiroProject/src/components/SmartPlanner.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Lightbulb, Calendar, Check, Clock, Users } from 'lucide-react';\nimport { useNavigate } from 'react-router-dom';\nimport { ENHANCED_RECIPES, filterRecipesByPreferences, scoreRecipeByPreferences } from '../data/recipes';\n\nfunction SmartPlanner({ groceries, setMealPlan, preferences, mealPlan }) {\n  const [suggestions, setSuggestions] = useState([]);\n  const [selectedMeals, setSelectedMeals] = useState([]);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    generateSuggestions();\n  }, [groceries]);\n\n  const generateSuggestions = () => {\n    const availableIngredients = groceries.map(item => \n      item.name.toLowerCase().trim()\n    );\n\n    // Filter recipes by preferences first\n    const filteredRecipes = filterRecipesByPreferences(ENHANCED_RECIPES, preferences);\n\n    const possibleRecipes = filteredRecipes.filter(recipe => {\n      const matchingIngredients = recipe.ingredients.filter(ingredient =>\n        availableIngredients.some(available => \n          available.includes(ingredient.toLowerCase()) || \n          ingredient.toLowerCase().includes(available)\n        )\n      );\n      return matchingIngredients.length >= 2; // At least 2 matching ingredients\n    });\n\n    // Score recipes by ingredient match percentage and preferences\n    const scoredRecipes = possibleRecipes.map(recipe => {\n      const matchScore = recipe.ingredients.filter(ingredient =>\n        availableIngredients.some(available => \n          available.includes(ingredient.toLowerCase()) || \n          ingredient.toLowerCase().includes(available)\n        )\n      ).length / recipe.ingredients.length;\n\n      const preferenceScore = scoreRecipeByPreferences(recipe, preferences);\n      \n      return {\n        ...recipe,\n        matchScore,\n        preferenceScore,\n        totalScore: matchScore + preferenceScore,\n        missingIngredients: recipe.ingredients.filter(ingredient =>\n          !availableIngredients.some(available => \n            available.includes(ingredient.toLowerCase()) || \n            ingredient.toLowerCase().includes(available)\n          )\n        )\n      };\n    });\n\n    setSuggestions(scoredRecipes.sort((a, b) => b.totalScore - a.totalScore));\n  };\n\n  const toggleMealSelection = (recipe) => {\n    setSelectedMeals(prev => {\n      const isSelected = prev.find(meal => meal.name === recipe.name);\n      if (isSelected) {\n        return prev.filter(meal => meal.name !== recipe.name);\n      } else {\n        return [...prev, recipe];\n      }\n    });\n  };\n\n  const [integrationMode, setIntegrationMode] = useState('add'); // 'add' or 'replace'\n\n  const [showPreview, setShowPreview] = useState(false);\n  const [previewPlan, setPreviewPlan] = useState({});\n\n  const generateSmartDistribution = () => {\n    const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\n    const newMealPlan = integrationMode === 'replace' ? {} : { ...mealPlan };\n    const changes = [];\n\n    if (integrationMode === 'replace') {\n      // Replace mode: distribute evenly\n      selectedMeals.forEach((meal, index) => {\n        const day = days[index % days.length];\n        const key = `${day}-${meal.type}`;\n        \n        if (!newMealPlan[key]) {\n          newMealPlan[key] = [];\n        }\n        newMealPlan[key] = [meal];\n        changes.push({ day, mealType: meal.type, meal: meal.name, action: 'replaced' });\n      });\n    } else {\n      // Smart fill mode: fill empty slots first, then add to existing\n      const emptySlots = [];\n      const existingSlots = [];\n\n      // Find empty and existing slots\n      days.forEach(day => {\n        ['Breakfast', 'Lunch', 'Dinner', 'Snacks'].forEach(mealType => {\n          const key = `${day}-${mealType}`;\n          const currentMeals = newMealPlan[key] || [];\n          \n          if (currentMeals.length === 0) {\n            emptySlots.push({ day, mealType, key });\n          } else {\n            existingSlots.push({ day, mealType, key, count: currentMeals.length });\n          }\n        });\n      });\n\n      // Distribute meals\n      selectedMeals.forEach((meal, index) => {\n        // First, try to fill empty slots of the same meal type\n        const emptySlotOfType = emptySlots.find(slot => \n          slot.mealType === meal.type && !newMealPlan[slot.key]?.length\n        );\n        \n        if (emptySlotOfType) {\n          if (!newMealPlan[emptySlotOfType.key]) {\n            newMealPlan[emptySlotOfType.key] = [];\n          }\n          newMealPlan[emptySlotOfType.key].push(meal);\n          changes.push({ \n            day: emptySlotOfType.day, \n            mealType: emptySlotOfType.mealType, \n            meal: meal.name, \n            action: 'filled empty slot' \n          });\n          return;\n        }\n\n        // If no empty slots of same type, use any empty slot\n        const anyEmptySlot = emptySlots.find(slot => !newMealPlan[slot.key]?.length);\n        if (anyEmptySlot) {\n          if (!newMealPlan[anyEmptySlot.key]) {\n            newMealPlan[anyEmptySlot.key] = [];\n          }\n          newMealPlan[anyEmptySlot.key].push(meal);\n          changes.push({ \n            day: anyEmptySlot.day, \n            mealType: anyEmptySlot.mealType, \n            meal: meal.name, \n            action: 'filled empty slot (different type)' \n          });\n          return;\n        }\n\n        // If no empty slots, add to existing (round-robin)\n        const day = days[index % days.length];\n        const key = `${day}-${meal.type}`;\n        \n        if (!newMealPlan[key]) {\n          newMealPlan[key] = [];\n        }\n        \n        // Check for duplicates\n        const exists = newMealPlan[key].some(existingMeal => existingMeal.name === meal.name);\n        if (!exists) {\n          newMealPlan[key].push(meal);\n          changes.push({ \n            day, \n            mealType: meal.type, \n            meal: meal.name, \n            action: 'added to existing' \n          });\n        }\n      });\n    }\n\n    return { newMealPlan, changes };\n  };\n\n  const previewChanges = () => {\n    const { newMealPlan, changes } = generateSmartDistribution();\n    setPreviewPlan({ plan: newMealPlan, changes });\n    setShowPreview(true);\n  };\n\n  const applyChanges = () => {\n    setMealPlan(previewPlan.plan);\n    setShowPreview(false);\n    \n    // Show success message and navigate\n    setTimeout(() => {\n      navigate('/planner');\n    }, 500);\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"card\">\n        <div className=\"smart-planner-header\">\n          <h2>\n            <Lightbulb size={24} />\n            Smart Meal Suggestions\n          </h2>\n          <p>Based on your current grocery inventory</p>\n        </div>\n\n        {groceries.length === 0 ? (\n          <div className=\"empty-state\">\n            <Lightbulb size={48} />\n            <h3>No groceries in inventory</h3>\n            <p>Add some groceries to your inventory to get personalized meal suggestions.</p>\n          </div>\n        ) : suggestions.length === 0 ? (\n          <div className=\"empty-state\">\n            <h3>No matching recipes found</h3>\n            <p>Try adding more common ingredients to get better suggestions.</p>\n          </div>\n        ) : (\n          <>\n            <div className=\"suggestions-grid\">\n              {suggestions.map((recipe, index) => (\n                <div \n                  key={index} \n                  className={`suggestion-card ${selectedMeals.find(m => m.name === recipe.name) ? 'selected' : ''}`}\n                  onClick={() => toggleMealSelection(recipe)}\n                >\n                  <div className=\"suggestion-header\">\n                    <h3>{recipe.name}</h3>\n                    <div className=\"suggestion-meta\">\n                      <span className=\"meal-type\">{recipe.type}</span>\n                      <span className=\"difficulty\">{recipe.difficulty}</span>\n                    </div>\n                    {selectedMeals.find(m => m.name === recipe.name) && (\n                      <Check size={20} className=\"selected-icon\" />\n                    )}\n                  </div>\n                  \n                  <div className=\"recipe-quick-info\">\n                    <span className=\"time\">\n                      <Clock size={14} />\n                      {recipe.prepTime}\n                    </span>\n                    <span className=\"servings\">\n                      <Users size={14} />\n                      {recipe.servings}\n                    </span>\n                    <span className=\"calories\">{recipe.nutrition.calories} cal</span>\n                  </div>\n                  \n                  <div className=\"match-score\">\n                    <div className=\"score-bar\">\n                      <div \n                        className=\"score-fill\" \n                        style={{ width: `${recipe.matchScore * 100}%` }}\n                      ></div>\n                    </div>\n                    <span>{Math.round(recipe.matchScore * 100)}% ingredient match</span>\n                  </div>\n\n                  <div className=\"recipe-rating-preview\">\n                    <div className=\"rating-stars-small\">\n                      {Array.from({ length: 5 }, (_, i) => (\n                        <span key={i} className={`star-small ${i < Math.floor(recipe.rating) ? 'filled' : ''}`}>\n                          â˜…\n                        </span>\n                      ))}\n                    </div>\n                    <span className=\"rating-score-small\">{recipe.rating.toFixed(1)}</span>\n                    <span className=\"rating-count-small\">({recipe.totalRatings})</span>\n                  </div>\n\n                  <div className=\"nutrition-preview\">\n                    <span>{recipe.nutrition.protein}g protein</span>\n                    <span>{recipe.nutrition.carbs}g carbs</span>\n                    <span>{recipe.nutrition.fiber}g fiber</span>\n                  </div>\n\n                  <div className=\"ingredients-info\">\n                    <p><strong>You have:</strong> {recipe.ingredients.length - recipe.missingIngredients.length} ingredients</p>\n                    {recipe.missingIngredients.length > 0 && (\n                      <p><strong>Need to buy:</strong> {recipe.missingIngredients.join(', ')}</p>\n                    )}\n                  </div>\n\n                  <div className=\"recipe-tags\">\n                    {recipe.tags.slice(0, 3).map(tag => (\n                      <span key={tag} className=\"recipe-tag\">{tag}</span>\n                    ))}\n                  </div>\n\n                  <p className=\"instructions\">{recipe.instructions}</p>\n                </div>\n              ))}\n            </div>\n\n            {selectedMeals.length > 0 && (\n              <div className=\"selected-meals-section\">\n                <h3>Selected Meals ({selectedMeals.length})</h3>\n                <div className=\"selected-meals\">\n                  {selectedMeals.map((meal, index) => (\n                    <span key={index} className=\"selected-meal-tag\">\n                      {meal.name} ({meal.type})\n                    </span>\n                  ))}\n                </div>\n                \n                {Object.keys(mealPlan).length > 0 && (\n                  <div className=\"integration-options\">\n                    <h4>How should we add these meals?</h4>\n                    <div className=\"integration-buttons\">\n                      <button \n                        onClick={() => setIntegrationMode('add')}\n                        className={`btn ${integrationMode === 'add' ? 'btn-primary' : 'btn-secondary'}`}\n                      >\n                        Add to Existing Plan\n                      </button>\n                      <button \n                        onClick={() => setIntegrationMode('replace')}\n                        className={`btn ${integrationMode === 'replace' ? 'btn-primary' : 'btn-secondary'}`}\n                      >\n                        Replace Current Plan\n                      </button>\n                    </div>\n                    <p className=\"integration-help\">\n                      {integrationMode === 'add' \n                        ? 'Selected meals will be added to your current meal plan'\n                        : 'Selected meals will replace your current meal plan'\n                      }\n                    </p>\n                  </div>\n                )}\n                \n                <button onClick={previewChanges} className=\"btn btn-primary\">\n                  <Calendar size={16} />\n                  Preview Changes\n                </button>\n              </div>\n            )}\n          </>\n        )}\n\n        {showPreview && (\n          <div className=\"modal-overlay\" onClick={() => setShowPreview(false)}>\n            <div className=\"modal preview-modal\" onClick={(e) => e.stopPropagation()}>\n              <h3>Preview Meal Plan Changes</h3>\n              <p>Here's what will happen when you apply these changes:</p>\n              \n              <div className=\"changes-summary\">\n                <h4>ðŸ“‹ Summary of Changes</h4>\n                <div className=\"changes-list\">\n                  {previewPlan.changes?.map((change, index) => (\n                    <div key={index} className=\"change-item\">\n                      <span className=\"change-meal\">{change.meal}</span>\n                      <span className=\"change-arrow\">â†’</span>\n                      <span className=\"change-location\">{change.day} {change.mealType}</span>\n                      <span className={`change-action ${change.action.replace(/\\s+/g, '-')}`}>\n                        {change.action}\n                      </span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              <div className=\"preview-week\">\n                <h4>ðŸ“… Your Updated Week</h4>\n                <div className=\"preview-days\">\n                  {['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'].map(day => (\n                    <div key={day} className=\"preview-day\">\n                      <h5>{day}</h5>\n                      {['Breakfast', 'Lunch', 'Dinner', 'Snacks'].map(mealType => {\n                        const key = `${day}-${mealType}`;\n                        const meals = previewPlan.plan?.[key] || [];\n                        const isNew = previewPlan.changes?.some(c => c.day === day && c.mealType === mealType);\n                        \n                        return (\n                          <div key={mealType} className={`preview-meal-slot ${isNew ? 'new-change' : ''}`}>\n                            <span className=\"meal-type-label\">{mealType}:</span>\n                            {meals.length === 0 ? (\n                              <span className=\"empty-slot\">Empty</span>\n                            ) : (\n                              <span className=\"meal-names\">\n                                {meals.map(m => m.name).join(', ')}\n                              </span>\n                            )}\n                          </div>\n                        );\n                      })}\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              <div className=\"modal-actions\">\n                <button onClick={applyChanges} className=\"btn btn-primary\">\n                  âœ… Apply Changes ({previewPlan.changes?.length} changes)\n                </button>\n                <button onClick={() => setShowPreview(false)} className=\"btn btn-secondary\">\n                  Cancel\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default SmartPlanner;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}